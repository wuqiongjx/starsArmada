{"name":"星舰帝国","master":true,"version":"0.0.1","description":"星舰帝国","schemas":{"e13a081ebeb15086":{"_id":"e13a081ebeb15086","_name":"Weapon","_inherit":["Accouter"],"manufacture":"method","recast":"method","inlay":"method"},"r18f0f1a59e19b27":{"_id":"r18f0f1a59e19b27","_name":"母舰","_inherit":["_Component"],"name":"property","strength":"property","vip":"property","armadaPrestige":"property","forcePrestige":"property","commander":"collection","armada":"link","force":"link","editName":"method","createArmada":"method","joinArmada":"method","exitArmada":"method","contributeArmada":"method"},"u15529135a91af44":{"_id":"u15529135a91af44","_name":"Armada","_inherit":["_Component"],"armadaName":"property","level":"property","rankingList":"property","strength":"property","assets":"property","motherShip":"collection","kickOutArmada":"method","acknowledge":"method","promoteOfficer":"method","sendMessage":"method"},"l186961973515000":{"_id":"l186961973515000","_name":"Commander","_inherit":["_Component"],"name":"property","level":"property","experienceValue":"property","leadership":"property","energy":"property","medal":"property","technique":"property","prestige":"property","force":"link"},"o134651986117a2e":{"_id":"o134651986117a2e","_name":"Accouter","_inherit":["_Component"],"classification":"property","additionArms":"property","additionType":"property","additionRatio":"property","saleTax":"property","deal":"method"},"r15a611398c14422":{"_id":"r15a611398c14422","_name":"Force","_inherit":["_Component"],"name":"property","mothership":"collection"},"z198ba11ccf1a29b":{"_id":"z198ba11ccf1a29b","_name":"Template","_inherit":["_Component"],"source":"property","render":"method"},"l1f8dd1f44d1ef53":{"_id":"l1f8dd1f44d1ef53","_name":"CSS","_inherit":["_Component"],"source":"property","render":"method"},"l1cbef1eb531773c":{"_id":"l1cbef1eb531773c","_name":"List","_inherit":["_Component"],"filter":"property","render":"method"}},"models":{"t158fd13939141b6":{"_id":"t158fd13939141b6","_name":"Weapon","_description":"武器","manufacture":{"description":"武器制造","params":[{"description":"","name":"resources","type":"any","mandatory":false,"default":null}],"result":"any"},"recast":{"description":"武器重铸","params":[{"description":"","name":"resources","type":"any","mandatory":false,"default":null}],"result":"any"},"inlay":{"description":"镶嵌星钻","params":[{"description":"","name":"resource","type":"any","mandatory":false,"default":null}],"result":"any"}},"d13b0018f6f1184f":{"_id":"d13b0018f6f1184f","_name":"母舰","_description":"母舰","name":{"description":"母舰名称","type":"string","readOnly":false,"mandatory":false,"default":""},"strength":{"description":"母舰实力","type":"number","readOnly":false,"mandatory":false,"default":0},"vip":{"description":"","type":"number","readOnly":false,"mandatory":false,"default":0},"editName":{"description":"修改母舰名称","params":[{"description":"","name":"mothership_name","type":"string","mandatory":false,"default":""}],"result":"boolean"},"joinArmada":{"description":"加入舰队","params":[{"description":"","name":"armada_name","type":"any","mandatory":false,"default":""}],"result":"boolear"},"exitArmada":{"description":"","params":[{"description":"退出舰队","name":"armada_name","type":"any","mandatory":false,"default":null}],"result":"any"},"createArmada":{"description":"创建舰队","params":[{"description":"","name":"armada_name","type":"any","mandatory":false,"default":null}],"result":"any"},"contributeArmada":{"description":"捐赠资源提升舰队等级","params":[{"description":"","name":"armada_name","type":"any","mandatory":false,"default":null}],"result":"any"},"armadaPrestige":{"description":"舰队声望","type":"number","readOnly":false,"mandatory":false,"default":0},"forcePrestige":{"description":"势力声望","type":"number","readOnly":false,"mandatory":false,"default":0},"commander":{"description":"母舰指挥官","type":["Commander"],"readOnly":false,"mandatory":false,"default":[]},"armada":{"description":"母舰所属舰队","type":"Armada","readOnly":false,"mandatory":false,"default":""},"force":{"description":"母舰所属势力","type":"Force","readOnly":false,"mandatory":false,"default":""}},"q1b4e117ef61217d":{"_id":"q1b4e117ef61217d","_name":"Armada","_description":"舰队","armadaName":{"description":"舰队名称","type":"string","readOnly":false,"mandatory":false,"default":""},"rankingList":{"description":"舰队排行","type":"number","readOnly":false,"mandatory":false,"default":0},"strength":{"description":"舰队实力","type":"number","readOnly":false,"mandatory":false,"default":0},"assets":{"description":"舰队资产","type":"assets","readOnly":false,"mandatory":false,"default":[]},"level":{"description":"舰队等级","type":"number","readOnly":false,"mandatory":false,"default":0},"kickOutArmada":{"description":"踢出舰队","params":[{"description":"","name":"mothership","type":"any","mandatory":false,"default":null}],"result":"any"},"acknowledge":{"description":"确认申请","params":[{"description":"","name":"mothership","type":"any","mandatory":false,"default":null}],"result":"any"},"promoteOfficer":{"description":"","params":[{"description":"提升官员","name":"mothership","type":"any","mandatory":false,"default":null}],"result":"any"},"sendMessage":{"description":"发送邮件","params":[{"description":"","name":"mothership","type":"array","mandatory":false,"default":[]},{"description":"","name":"message","type":"string","mandatory":false,"default":""}],"result":"any"},"motherShip":{"description":"母舰","type":["母舰"],"readOnly":false,"mandatory":false,"default":[]}},"e1545819d8416594":{"_id":"e1545819d8416594","_name":"Commander","_description":"指挥官","name":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":""},"experienceValue":{"description":"经验值","type":"number","readOnly":false,"mandatory":false,"default":0},"leadership":{"description":"领导力","type":"number","readOnly":false,"mandatory":false,"default":0},"energy":{"description":"能量","type":"number","readOnly":false,"mandatory":false,"default":0},"medal":{"description":"勋章","type":"number","readOnly":false,"mandatory":false,"default":0},"technique":{"description":"技能","type":"technique","readOnly":false,"mandatory":false,"default":{}},"force":{"description":"加入势力","type":"Force","readOnly":false,"mandatory":false,"default":""},"prestige":{"description":"声望","type":"array","readOnly":false,"mandatory":false,"default":[]},"level":{"description":"指挥官品质","type":"指挥官品质","readOnly":false,"mandatory":false,"default":""}},"g1c76e14f2a16152":{"_id":"g1c76e14f2a16152","_name":"Accouter","_description":"装备","saleTax":{"description":"交易税率","type":"number","readOnly":false,"mandatory":false,"default":0},"deal":{"description":"交易","params":[{"description":"","name":"param","type":"any","mandatory":false,"default":null}],"result":"any"},"additionArms":{"description":"加成兵种","type":"加成兵种","readOnly":false,"mandatory":false,"default":"步兵"},"additionType":{"description":"加成类型","type":"加成类型","readOnly":false,"mandatory":false,"default":"攻击"},"additionRatio":{"description":"加成比例","type":"加成比例","readOnly":false,"mandatory":false,"default":"1%"},"classification":{"description":"装备类型","type":"装备类型","readOnly":false,"mandatory":false,"default":""}},"v1c211118f91da8f":{"_id":"v1c211118f91da8f","_name":"Force","_description":"势力","name":{"description":"势力名称","type":"string","readOnly":false,"mandatory":false,"default":""},"mothership":{"description":"势力拥有母舰","type":["母舰"],"readOnly":false,"mandatory":false,"default":[]}},"o19b04191b513cf7":{"_id":"o19b04191b513cf7","_name":"Template","source":{"type":"html","readOnly":false,"mandatory":false,"default":""},"render":{"params":[{"name":"elt","type":"DOMElement","mandatory":false,"default":null}]}},"z128c91df861dc34":{"_id":"z128c91df861dc34","_name":"CSS","source":{"type":"css","readOnly":false,"mandatory":false,"default":""},"render":{}},"p1b9fa10ca51e9d4":{"_id":"p1b9fa10ca51e9d4","_name":"List","render":{},"filter":{"type":"string","readOnly":false,"mandatory":false,"default":"{}"}}},"behaviors":{"j1ee8b1398918085":{"_id":"j1ee8b1398918085","component":"v164de1a28f1bac9","state":"start","action":"function start() { \n \n  // add HTML\n  this.require('template').render();\n  \n  // add CSS\n  this.require('list.css').render();\n  \n  // init the filter\n  this.require('list').filter('');\n  \n  // show the list\n  this.require('list').render();\n  \n  // add listener\n  document.getElementById('search').addEventListener('keyup', function keyup(e) {\n    this.require('list').filter(e.target.value.trim());\n  }.bind(this));\n\n}","useCoreAPI":false,"core":false},"l18aed1354711160":{"_id":"l18aed1354711160","component":"Weapon","state":"manufacture","action":"function manufacture(resources) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"r1f61c1795317ae0":{"_id":"r1f61c1795317ae0","component":"Weapon","state":"recast","action":"function recast(resources) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"h13d73124451d86f":{"_id":"h13d73124451d86f","component":"Weapon","state":"inlay","action":"function inlay(resource) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"g1fb871e2451e656":{"_id":"g1fb871e2451e656","component":"母舰","state":"joinArmada","action":"function joinArmada(armada_name) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"c163a01ee46146d2":{"_id":"c163a01ee46146d2","component":"母舰","state":"exitArmada","action":"function exitArmada(armada_name) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"q1ede9144851a96c":{"_id":"q1ede9144851a96c","component":"Armada","state":"sendMessage","action":"function sendMessage(mothership, message) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"u1b2b41e2c31e871":{"_id":"u1b2b41e2c31e871","component":"母舰","state":"createArmada","action":"function createArmada(armada_name) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"h1d3ce10b911fa8a":{"_id":"h1d3ce10b911fa8a","component":"母舰","state":"contributeArmada","action":"function contributeArmada(armada_name) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"k128f01699d11d3c":{"_id":"k128f01699d11d3c","component":"Accouter","state":"deal","action":"function deal(param) { \n  let result = '';\n  return result;\n}","useCoreAPI":false,"core":false},"n1ab81101b41b375":{"_id":"n1ab81101b41b375","component":"Template","state":"render","action":"function render(elt) { \n  var html = this.source(),\n      domNode = elt;\n  \n  if (html) {\n    if (domNode === null) {\n      domNode = document.body;\n    }\n    \n    domNode.insertAdjacentHTML('beforeend', html);\n  }\n}","useCoreAPI":false,"core":false},"g1725a1c65e1d149":{"_id":"g1725a1c65e1d149","component":"CSS","state":"render","action":"function render() { \n  var div = document.createElement('style');\n  div.innerHTML = this.source();\n  document.head.appendChild(div);\n}","useCoreAPI":false,"core":false},"k1d4551afd717da8":{"_id":"k1d4551afd717da8","component":"List","state":"render","action":"function render() { \n  var items = [],\n      properties = {},\n      links = {},\n      html = '',\n      criteria = null,\n      table = document.getElementById('table');\n  \n  if (table) {\n  \n    // get data\n    if (this.filter().trim() !== '') {\n      criteria = new RegExp(this.filter().trim(), 'gi');\n      items = this.require('db').collections().母舰.find({\n        name: criteria\n      });\n    } else {\n      items = this.require('db').collections().母舰.find();\n    }\n    \n    properties = this.require('母舰').classInfo().properties();\n    links = this.require('母舰').classInfo().links();\n    \n    html = '<tr>';\n    // build table header\n    properties.forEach(function(property) {\n      html = html + '<th scope=\"col\">' + property.toUpperCase() +'</th>'; \n    });\n    links.forEach(function (link) {\n      html = html + '<th scope=\"col\">' + link.toUpperCase() +'</th>'; \n    });\n    html = html + '<tr>';\n    \n    // build table body\n    items.forEach(function (item){\n      html = html + '<tr>';\n      \n      properties.forEach(function(property) {\n        html = html + '<td>' + item[property] + '</td>';\n      });\n      \n      links.forEach(function (link) {\n        var author = this.require(item[link]);\n        \n        if (author) {\n          html = html + '<td>' + author.fullName() + '</td>';\n        } else {\n          html = html + '<td></td>';\n        }\n      }.bind(this));\n      \n      html = html + '</tr>';\n    }.bind(this));\n    \n    html = html + '</table>';\n    \n    table.innerHTML = html;\n  }\n}","useCoreAPI":false,"core":false},"w1d4ac1c9821d391":{"_id":"w1d4ac1c9821d391","component":"List","state":"filter","action":"function filter(value) { \n\tthis.render();\n}","useCoreAPI":false,"core":false}},"types":{"指挥官品质":{"_id":"e1fb491ba5c1c094","name":"指挥官品质","description":"指挥官按的品质分为D,C,B,A,S五个级别，S级最强。不管指挥官初始品质为何，都可以进化到S级。指挥官所属的品质级别会影响他可拥有的领导力，装备槽位和技能。（指挥官品质级别越高，解锁的技能越好）","type":"string","value":["S","A","B","C","D"]},"装备类型":{"_id":"n1803f14b901df64","name":"装备类型","description":"装备类型","type":"string","value":["武器","上衣","裤子","首饰"]},"加成类型":{"_id":"n1ae321af2e16ea3","name":"加成类型","description":"","type":"string","value":["攻击","命中","暴击"]},"加成比例":{"_id":"u1f26918670148bb","name":"加成比例","description":"武器加成比例","type":"string","value":["1%","2%~4%","3%~5%","3%~6%","5%~5%","5%~8%","5%~10%","8%~16%","10%~10%","10%~20%","11%~16%","14%~24%","15%~30%","25%~40%","30%~60%"]},"打击兵种":{"_id":"k1e4e71a9841aee4","name":"打击兵种","description":"","type":"string","value":["步兵","机甲","飞艇","全体"]},"资源分类":{"_id":"e1f1f71bbba1e577","name":"资源分类","description":"资源分类","type":"string","value":["食物","零件","电力","燃气","金钱","黄金","影物质","香料"]},"舰队职级":{"_id":"e1977b18b40111d2","name":"舰队职级","description":"","type":"string","value":["实习成员","成员","官员","副领袖","领袖"]},"DOMElement":{"_id":"m14b771764815eca","name":"DOMElement","type":"object"},"assets":{"_id":"s1e258141501e585","name":"assets","description":"","type":"object","schema":{"name":{"description":"","type":"string","mandatory":false,"default":""},"values":{"description":"","type":"number","mandatory":false,"default":0}}},"technique":{"_id":"g1a512124ee1b044","name":"technique","description":"","type":"object","schema":{"name":{"description":"","type":"string","mandatory":false,"default":""},"level":{"description":"","type":"number","mandatory":false,"default":0},"status":{"description":"","type":"number","mandatory":false,"default":0}}}},"components":{"CSS":{"list.css":{"_id":"list.css","source":"body {\n  padding-top: 50px;\n  font-family: \"Helvetica Neue\",Helvetica,Arial,sans-serif;\n}\n\n.input-group {\n  padding-bottom:20px;\n}\n\ntable {\n  font-family: arial, sans-serif;\n  border-collapse: collapse;\n  width: 100%;\n}\n\ntd, th {\n  border: 1px solid #dddddd;\n  text-align: left;\n  padding: 8px;\n}\n\nth {\n  background-color: #e7e7e7;\n}"}},"Template":{"template":{"_id":"template","source":"<div class=\"input-group\">\n  <input id=\"search\" type=\"text\" class=\"form-control\" placeholder=\"search\">\n</div>\n\n<table id=\"table\"></table>"}},"List":{"list":{"_id":"list","filter":""}},"母舰":{"wuqiong":{"_id":"wuqiong","armadaPrestige":0,"commander":["NB-55"],"forcePrestige":0,"name":"wuqiong","strength":0,"vip":4,"armada":"","force":"沃塔尔"}},"Weapon":{},"Force":{"v18ef714f0c19ee6":{"_id":"v18ef714f0c19ee6","name":"尼克萨","mothership":[]},"w1d67c1078d17ec5":{"_id":"w1d67c1078d17ec5","name":"沃塔尔","mothership":["wuqiong"]},"c1f54a1c71a10ace":{"_id":"c1f54a1c71a10ace","name":"曼基维尔","mothership":[]}},"Commander":{"d1af611a7601034b":{"_id":"d1af611a7601034b","energy":10,"experienceValue":1000000,"force":"w1d67c1078d17ec5","leadership":510,"level":"S","medal":0,"name":"NB-55","prestige":[1000,35000],"technique":{"name":"反击","level":16,"status":1}}},"Armada":{"y1b54f1c8cc1ebcc":{"_id":"y1b54f1c8cc1ebcc","armadaName":"无敌舰队","assets":{"name":"食物","value":0},"level":1,"motherShip":["wuqiong"],"rankingList":6,"strength":543678}}},"_id":"v164de1a28f1bac9"}